---
title: Scores With Baseline
subtitle: "Dataset: [agi-lsat-ar.parquet](agi-lsat-ar.parquet)"
---

This example illustrates the code behind the [`scores_with_baseline()`](../../../view-scores-with-baseline.qmd) pre-built view function. If you want to include this plot in your notebooks or websites you should start with that function rather than the lower-level code below.

The plot summarizes the scores of a single evaluation task, showing performance for 13 different models. Models are ordered based upon their headline score (defaulting to descending). 

The data for plotting is read using the [`evals_df()`](https://inspect.aisi.org.uk/reference/inspect_ai.analysis.html#evals_df) function (and amended with [links](../../../components-links.qmd)) to the published logs.


```{python}
#| filename: Code

from inspect_viz import Data
from inspect_viz.plot import plot
from inspect_viz.mark import bar_x, rule_x, text

evals = Data.from_file("agi-lsat-ar.parquet")

baseline_color = "#000000"
baseline_value = 0.91
    
plot(
    bar_x(                                    # <1>
        evals,                                # <1>
        x="score_headline_value",             # <1>
        y="model",                            # <1>
        sort={"y": "x", "reverse": True},     # <1>
        fill="#416AD0",                       # <1>
        channels={"Log Viewer": "log_viewer"}, # <1>
        tip=True                              # <1>
    ),                                        # <1>
    rule_x(                                   # <2>
        x=[baseline_value],               # <2>
        stroke_dasharray="2,4",            # <2>
        stroke_width=1,                    # <2> 
        stroke=[baseline_color]           # <2>
    ),                                        # <2>
    text(                                     # <3>
        x=[baseline_value],               # <3>
        frame_anchor="top",               # <3>
        line_anchor="bottom",             # <3>
        dy=-3,                            # <3>
        text=["Baseline"],                # <3>
        text_anchor="middle",              # <3>
        fill=[baseline_color]             # <3>
    ),                                        # <3>
    marginLeft=250,                           # <4>
    marginTop=30,                             # <4>
    x_domain=[0, 1.0],
    y_label=None,
    x_label="Accuracy"
)
```


1. This draws the core bar chart, sorting the y-axis by the value of x.

2. This draws the baseline at the `baseline_value` position. Note that we are passing an explicit value for baseline rather that reading the value from the data frame.

3. This draws the text label for the baseline, positioning it at the top of the frame and anchoring the bottom of the text to the that top position.

4. Provide margin to allow space for the y-axis labels and for the baseline text above the plot.